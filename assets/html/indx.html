<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1,user-scalable=no">
	<title>首页</title>
	<link rel="stylesheet" type="text/css" href="../css/reset.css">
	<link rel="stylesheet" type="text/css" href="../css/swiper-3.4.2.min.css">
	<link rel="stylesheet" type="text/css" href="../css/font/iconfont.css">
    <link rel="stylesheet" type="text/css" href="../css/load.css">
	<link rel="stylesheet" type="text/css" href="../css/index.css">

</head>
<body>
<div class="container">
	<div class="top">
        <header class="header">
		<ul>
			<li class="active"><a href="index.html">热点</a></li>
			<li><a href="concern.html">关注</a></li>
		</ul>
	</header>
	  <!-- 如果需要分页器 -->
	<div class="pagination"> </div>
</div>
 
<!-- ********************** -->

 
<div class="content">
    <div class="swiper-container">
    <div class="swiper-wrapper">
    	<!-- *1****************** -->
        <div class="swiper-slide slide1">
	         <!-- <div class="slidecon1"> -->
	        <ul class="oneul">
					<li>
						<a href="#">
							<img src="../images/lala.png"/>
						</a>
						<p>萌萌哒，萌萌哒</p>
					</li>
					<!-- <li>
						<a href="#">
							<img src="../images/lala.png"/>
						</a>
						<p>萌萌哒，萌萌哒</p>
					</li>
					<li>
						<a href="#">
							<img src="../images/lala.png"/>
						</a>
						<p>萌萌哒，萌萌哒</p>
					</li>
					<li>
						<a href="#">
							<img src="../images/lala.png"/>
						</a>
						<p>萌萌哒，萌萌哒</p>
					</li>
					<li>
						<a href="#">
							<img src="../images/lala.png"/>
						</a>
						<p>萌萌哒，萌萌哒</p>
					</li>
					<li>
						<a href="#">
							<img src="../images/lala.png"/>
						</a>
						<p>萌萌哒，萌萌哒</p>
					</li>
					<li>
						<a href="#">
							<img src="../images/lala.png"/>
						</a>
						<p>萌萌哒，萌萌哒</p>
					</li>
					<li>
						<a href="#">
							<img src="../images/lala.png"/>
						</a>
						<p>萌萌哒，萌萌哒</p>
					</li>
					<li>
						<a href="#">
							<img src="../images/lala.png"/>
						</a>
						<p>萌萌哒，萌萌哒</p>
					</li>
					<li>
						<a href="#">
							<img src="../images/lala.png"/>
						</a>
						<p>萌萌哒，萌萌哒</p>
					</li> -->
				</ul>
	         <!-- </div> -->

        </div>
        <!-- *********2********* -->
        <div class="swiper-slide slide2">
           <ul class="twoul">
					<li>
						<a href="#">
							<img src="../images/qiu.png"/>
						</a>
						<p>徐云龙争顶徐云龙争顶徐云龙争顶徐云龙争顶</p>
                    </li>
					<li>
						<a href="#">
							<img src="../images/qiu.png"/>
						</a>
						<p>徐云龙争顶</p>
                    </li>
					<li>
						<a href="#">
							<img src="../images/qiu.png"/>
						</a>
						<p>徐云龙争顶</p>
                    </li>
					<li>
						<a href="#">
							<img src="../images/qiu.png"/>
						</a>
						<p>徐云龙争顶</p>
                    </li>
					<li>
						<a href="#">
							<img src="../images/qiu.png"/>
						</a>
						<p>徐云龙争顶</p>
                    </li>
					<li>
						<a href="#">
							<img src="../images/qiu.png"/>
						</a>
						<p>徐云龙争顶</p>
                    </li>
					<li>
						<a href="#">
							<img src="../images/qiu.png"/>
						</a>
						<p>徐云龙争顶</p>
                    </li>
					<li>
						<a href="#">
							<img src="../images/qiu.png"/>
						</a>
						<p>徐云龙争顶</p>
                    </li>
					<li>
						<a href="#">
							<img src="../images/qiu.png"/>
						</a>
						<p>徐云龙争顶</p>
                    </li>
					<li>
						<a href="#">
							<img src="../images/qiu.png"/>
						</a>
						<p>徐云龙争顶</p>
                    </li>
                    <li id="upTag" style="height:0.44rem;;color:red;width:100%;background-color: #fff;text-align: center; line-height: 40px;">上拉</li> 
				</ul>
				
        </div>
        <!-- ****3**************** -->
        <div class="swiper-slide slide3">
        	 <ul class="threeul">
 					<li>
						<a href="#">
							<img src="../images/mei.png"/>
						</a>
						<p>美女妹妹么么哒</p>
                    </li>
 					<li>
						<a href="#">
							<img src="../images/mei.png"/>
						</a>
						<p>美女妹妹么么哒</p>
                    </li>
                     					<li>
						<a href="#">
							<img src="../images/mei.png"/>
						</a>
						<p>美女妹妹么么哒</p>
                    </li>
                     					<li>
						<a href="#">
							<img src="../images/mei.png"/>
						</a>
						<p>美女妹妹么么哒</p>
                    </li>
                     					<li>
						<a href="#">
							<img src="../images/mei.png"/>
						</a>
						<p>美女妹妹么么哒</p>
                    </li>
                     					<li>
						<a href="#">
							<img src="../images/mei.png"/>
						</a>
						<p>美女妹妹么么哒</p>
                    </li>
                     					<li>
						<a href="#">
							<img src="../images/mei.png"/>
						</a>
						<p>美女妹妹么么哒</p>
                    </li>
                    <li>
						<a href="#">
							<img src="../images/mei.png"/>
						</a>
						<p>美女妹妹么么哒</p>
                    </li>
				</ul>
        </div>
       
    </div>
    </div>
</div>
<!-- *尾部****************** -->
<footer class="footer">
           <!--   <ul>
					<li class="home active">
						<a href="#"><i class="iconfont icon-shouye"></i><span>首页</span></a>
					</li>
					<li class="find">
						<a href="#"><i class="iconfont icon-sousuo"></i><span>发现</span></a>
					</li>
					<li class="camera">
						<a href="#"><i class="iconfont icon-xiangji"></i></a>
					</li>
					<li class="mine">
						<a href="#"><i class="iconfont icon-wode"></i><span>我的</span></a>
					</li>
					<li class="back">
						<a href="#"><i class="iconfont icon-tuichu"></i><span>退出</span></a>
					</li>
				</ul> -->
      </footer>
</div>

<script type="text/html" id="showlist">
	{{each hot as value idx}}
	   <li>
			<a href="#">
			<img src="{{value.img}}"/>
			</a>
			<p>{{value.theme}}</p>
		</li>
	{{/each}}
</script>


</body>
<script src="../js/commen.js"></script>
<script src="../js/artTamplate.js"></script>
<script src="../js/swiper-3.4.2.min.js"></script>
<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="../js/iscroll-probe.js"></script>
<script>   

  var mySwiper = new Swiper ('.swiper-container', {
    direction: 'horizontal',
    initialSlide:0,
    // autoplay:2000,
    pagination: '.pagination',
	paginationClickable: true,
	bulletClass:"my-bullet",
	bulletActiveClass:"bullet-active",
	paginationBulletRender:function(swiper, index, className){
	    var arr = ["足球现场","足球生活","足球美女"]
	    return '<span class="' + className + '">' + arr[index] + '</span>';
	    },
	onSlideChangeStart:function(mySwiper){
	    	//console.log(mySwiper.activeIndex)
	    $('.my-bullet').removeClass('bullet-active');
	    $('.my-bullet').eq(mySwiper.activeIndex).addClass('bullet-active');
	    },
  })   

/**********************/
  //初始化1**************************
    
    var  myIscroll1 = new IScroll(".slide1",{ //配置对象
         scrollbars:true, //滚动条
         mouseWheel:true, //鼠标滚动
         tap:true,
         probeType: 2,
    })


//初始化2足球生活**************************
    var  myIscroll= new IScroll(".slide2",{ //配置对象
         scrollbars:true, //滚动条
         mouseWheel:true, //鼠标滚动
         tap:true,
         probeType: 2,
         
    })
  
	 var $upTag=$("#upTag"),flag="";
	 var myScrollHeight=myIscroll.maxScrollY;
	 
	    myIscroll.on('scroll',function(){
    	//上拉加载
      if(this.y<myScrollHeight-3&&this.directionY&&!flag){
        flag="up";
         $upTag.html("释放加载");
         // this.maxScrollY=myScrollHeight;
      }

       //上拉后怼回去
    if(this.y>myScrollHeight-40&&this.directionY==-1&&flag=="up"){
        flag="";
        $upTag.html("上拉");
        // this.maxScrollY=myScrollHeight;
      }
    })

    myIscroll.on('scrollEnd',function(){
    	  //上拉弹性
    	 if(this.y>myScrollHeight-3&&this.y<myScrollHeight+40&&!flag){
        flag="";
        $upTag.html("上拉");
        myIscroll.scrollTo(0,myScrollHeight+44,400)
      }
   
	   //上拉加载
	     if(flag=="up"){
	     	flag="";
	      $upTag.html("加载中...");
	      setTimeout(function(){
	           addMore(this);
	      },1000);
	     }

    })

    function addMore(mIscroll){
      var html=`<li>
					<a href="#">
						<img src="../images/mei.png"/>
					</a>
					<p>美女妹妹么么哒</p>
                </li>
                <li>
					<a href="#">
						<img src="../images/mei.png"/>
					</a>
					<p>美女妹妹么么哒</p>
                </li>`;
      $upTag.before(html);
      myIscroll.refresh();
      myScrollHeight=myIscroll.maxScrollY;
      $upTag.html("上拉");
      myIscroll.scrollTo(0,myScrollHeight+40,400);
      console.log(myScrollHeight);
     }
     


//初始化3***********************************
    var  myIscroll3 = new IScroll(".slide3",{ //配置对象
         scrollbars:true, //滚动条
         mouseWheel:true, //鼠标滚动
         tap:true,
         probeType: 2,
         // startY:-40 //y初始滑动，要为负值
    })



    $(function(){
    	//热点和关注
    	$(".header li").on('click',function(e){
    		e.preventDefault();
    		$(this).addClass("active").siblings().removeClass("active");
    	})
    	$(".header li:nth-child(1)").on('click',function(){
    		location.href="index.html";
    	})
    	$(".header li:nth-child(2)").on('click',function(){
    		location.href="concern.html";
    	})

    	/*//尾部情况
    	$(".footer ul li").on("click",function(e){
    		e.preventDefault();
    		$(this).addClass("active").siblings().removeClass("active");
    	})
    	$(".footer ul .home").on('click',function(){
    		location.href="index.html";
    	})
    	$(".footer ul .find").on('click',function(){
    		console.log("123");
    		location.href="search.html";
    	})
    	$(".footer ul .camera").on('click',function(){
    		
    	})
    	$(".footer ul .mine").on('click',function(){
    		location.href="personal.html";
    	})
    	$(".footer ul .back").on('click',function(){
    		location.href="login.html";
    		localStorage.removeItem('user');
    	})*/

   
    	//模板index的足球现场
	   $.getJSON('../mock/hotdata.json',{dataType:"jsonp"},function(data){
           var data=data[0].spot;
          // console.log(data);
           var html=template("showlist",{hot:data});
           $(".slide1 .oneul").html(html);
	    })

	   //尾部引入
	   $.ajax({
			type:"get",
	        url:"load.html",
	        dataType:"html",
	        success:function(data){
	             var html=data;
	            $(".footer").html(html);
         }
	    })




   
   



    })
  </script>
</html>